<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <title>Добавить пользователя</title>
</head>

<body>
    <div class="container">
        <form class="col-12">
            <label for="name">Name</label>
            <input type="text" class="form-control" id="name" placeholder="Name">
            <label for="age">age</label>
            <input type="text" class="form-control" id="age" placeholder="Name">
            <label for="exampleInputEmail1">Email address</label>
            <input type="email" class="form-control" id="email" placeholder="Email">
        </form>
        <button class="btn btn-default">submit</button>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.2.0/js/tether.min.js" integrity="sha384-Plbmg8JY28KFelvJVai01l8WyZzrYWG825m+cZ0eDDS1f7d/js6ikvy1+X+guPIB" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.4/js/bootstrap.min.js" crossorigin="anonymous"></script>

    <script>

        function Users (name, email, age) {
            this.name = name;
            this.email = email;
            this.age = age;
        }

        document.querySelector('button').onclick = (e) => {
            let a = new Array;
            a[0] = document.querySelector('#name').value;
            a[1] = document.querySelector('#email').value;
            a[2] = document.querySelector('#age').value;

            let myUser = new Users(a[0],a[1],a[2]);
            send(myUser);
        }

        function send (arg) {
            let jsonUser = JSON.stringify(arg);

            fetch('http://89.108.65.123/user', {
                method: 'POST',
                body: jsonUser
            })
            .then(elem => elem.text())
            .then(elemTwo => {
                console.log(elemTwo);
            })
            .catch(error => {
                console.log(error);
            })
        }

    </script>
</body>

</html>
